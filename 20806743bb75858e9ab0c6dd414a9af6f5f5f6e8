{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "83630eed_d4fa1550",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001613
      },
      "writtenOn": "2022-01-18T18:57:52Z",
      "side": 1,
      "message": "I think I got everything. I decided to offer Unicode encoding for JS, CSS and HTML. Now using a product name like\n\n--with-product-name\u003dMy\u0027s Own\" Office Suite\n\nwill not break the build.\n\nCloph mentioned this in the chat, could be done as a separate patch:\n\njanitorial task would be to put the static and dynamic html package into a single makefile, there\u0027s no technical reason for them to be separated - there is no rule that there can only be a single gbuild-type per makefile/that the makefile has to be called based on the content",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2870f8cc_4f5b9583",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001613
      },
      "writtenOn": "2022-01-20T08:10:45Z",
      "side": 1,
      "message": "I think I found the root cause of XSLT replacing \u0026 with \u0026amp;\n\nThe xsl:stylesheet of xap_templ_query.xsl has \u003cxsl:output indent\u003d\"yes\" method\u003d\"text\"/\u003e, which in itself should prevent this replacing. However, it seems that online_transform.xsl is overriding this when its stylesheet has method\u003d\"html\" in its xsl:output. I tested this by simply changing the method to \"text\" (which of course produces a rather brutalistic site).\n\nSo this is actually a problem that has existed since the beginning. Therefore I propose to merge this patch as-is, if reviewers are happy and look into the unwanted text-to-html overriding separately.",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "517c3dc6_53d6d3b5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001613
      },
      "writtenOn": "2022-01-20T10:40:10Z",
      "side": 1,
      "message": "Forget what I said about xap_templ_query.xsl. This is about the html.text rule and is solely about online_transform.xsl. It seems we would need to create another stylesheet.",
      "parentUuid": "2870f8cc_4f5b9583",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f214a24_ab5f0723",
        "filename": "CustomTarget_html.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2022-01-18T19:57:09Z",
      "side": 1,
      "message": "Shouldn\u0027t it be enough to escape \" with \\\" (and prefix the var with gb_)? As you wrote on IRC, xsltproc already quotes \u0026, so I don\u0027t think it expects anything XML escaped as input, so just escape for the shell. And maybe rename it gb_PRODUCTNAME_SHELL?",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b9c1002_3d6e5819",
        "filename": "CustomTarget_html.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1001613
      },
      "writtenOn": "2022-01-19T06:30:32Z",
      "side": 1,
      "message": "Sorry, I am unable to come up with a way to escape the double quote only with backslashes. If I use two backslashes, I get unexpected EOF waiting for closing \". If I use one or three backslashes, xsltproc complains that stringparam. contains both quote and double-quotes. This is when testing a product name containing both.\n\nAny ideas?",
      "parentUuid": "2f214a24_ab5f0723",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "16937926_5c5699a1",
        "filename": "CustomTarget_html.mk",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1000562
      },
      "writtenOn": "2022-01-19T12:15:10Z",
      "side": 1,
      "message": "Nope. Looks like a xsltproc restriction, but I didn\u0027t check yet myself.",
      "parentUuid": "6b9c1002_3d6e5819",
      "revId": "20806743bb75858e9ab0c6dd414a9af6f5f5f6e8",
      "serverId": "6622c302-437a-49ad-a91d-55ba7dcf1615"
    }
  ]
}